{"config.json":"{\"mode\":\"code\",\"github\":null,\"board\":\"openbit\",\"level\":\"Beginner\"}","main.py":"from machine import Pin\r\nfrom time import sleep\r\nimport ESPNOW as now\r\nimport iLED4\r\nimport _thread\r\n\r\nprint(now.getMyMAC())\r\n# 10:97:BD:21:2D:F0\r\niLED4_show = True\r\nmain_process = True\r\nbuz_loop = True\r\nHIGH_condition = False\r\n\r\n\r\nnum1, num2, num3, num4 = 0, 0, 0, 0\r\nA_Point = \"\"\r\nB_Point = \"\"\r\ncondition = \"\"\r\ntest = 2\r\n\r\n\r\ndef iLED4_show_process():\r\n    global iLED4_show\r\n    iLED4.drawColon(True)\r\n    sleep(0.5)\r\n    iLED4.drawColon(False)\r\n    while iLED4_show:\r\n        for i in range(4):\r\n            iLED4.showDotPoint(i, 1)\r\n            iLED4.showDotPoint(i, 1)\r\n            iLED4.showDotPoint(i, 1)\r\n            iLED4.showDotPoint(i, 1)\r\n        for i in range(4):\r\n            iLED4.showDotPoint(i, 0)\r\n            iLED4.showDotPoint(i, 0)\r\n            iLED4.showDotPoint(i, 0)\r\n            iLED4.showDotPoint(i, 0)\r\n        sleep(0.5)\r\n\r\n_thread.start_new_thread(iLED4_show_process, ())\r\n\r\n\r\ndef buzzer_in_background():\r\n    global buz_loop\r\n    while buz_loop:\r\n        buzzer.tone(200, 1)\r\n\r\n\r\n\r\ndef process_num(parameter):\r\n    global num1, num2, num3, num4, A_Point, B_Point, buz_loop, HIGH_condition\r\n    # buz_loop = True\r\n    if parameter == \"A-UP\" and HIGH_condition == False:\r\n        # sleep(0.25)\r\n        num1 = int(num1)\r\n        num2 = int(num2)\r\n        num2 += 1\r\n        if num2 > 9 and num1 < 9:\r\n            num2 = 0\r\n            num1 += 1\r\n        elif num2 > 9 and num1 == 9:\r\n            num2 = 0 \r\n            num1 = 0\r\n        A_Point = str(num1) + str(num2)\r\n    elif parameter == \"A-HIGH-UP\" and HIGH_condition == True:\r\n        # sleep(0.25)\r\n        temporary = str(num1) + str(num2)\r\n        temporary = int(temporary)\r\n        print(temporary)\r\n        temporary += 10\r\n        print(temporary)\r\n        if temporary < 0:\r\n            num1 = 9\r\n            num2 = 9\r\n        elif temporary > 99:\r\n            num1 = 0\r\n            num2 = 0\r\n        else:\r\n            if temporary >= 10:\r\n                digits = [i for i in str(temporary)]\r\n                num1 = digits[0]\r\n                num2 = digits[1]\r\n            else:\r\n                num1 = 0\r\n                num2 = temporary\r\n        A_Point = str(num1) + str(num2)\r\n        HIGH_condition = False\r\n    elif parameter == \"A-DOWN\" and HIGH_condition == False:\r\n        # sleep(0.25)\r\n        num1 = int(num1)\r\n        num2 = int(num2)\r\n        num2 -= 1\r\n        if num2 < 0 and num1 > 0:\r\n            num2 = 9\r\n            num1 -= 1\r\n        elif num2 < 0 and num1 == 0:\r\n            num2 = 9\r\n            num1 = 9\r\n        A_Point = str(num1) + str(num2)\r\n    elif parameter == \"A-HIGH-DOWN\" and HIGH_condition == True:\r\n        # sleep(0.25)\r\n        temporary = str(num1) + str(num2)\r\n        temporary = int(temporary)\r\n        print(temporary)\r\n        temporary -= 10\r\n        print(temporary)\r\n        if temporary < 0:\r\n            num1 = 9\r\n            num2 = 9\r\n        elif temporary > 99:\r\n            num1 = 0\r\n            num2 = 0\r\n        else:\r\n            if temporary >=10:\r\n                digits = [i for i in str(temporary)]\r\n                num1 = digits[0]\r\n                num2 = digits[1]\r\n            else:\r\n                num1 = 0\r\n                num2 = temporary\r\n        A_Point = str(num1) + str(num2)\r\n        HIGH_condition = False\r\n    elif parameter == \"B-UP\" and HIGH_condition == False:\r\n        # sleep(0.25)\r\n        num3 = int(num3)\r\n        num4 = int(num4)\r\n        num4 += 1\r\n        if num4 > 9 and num3 < 9:\r\n            num4 = 0\r\n            num3 += 1\r\n        elif num4 > 9 and num3 == 9:\r\n            num4 = 0 \r\n            num3 = 0\r\n        B_Point = str(num3) + str(num4)\r\n    elif parameter == \"B-HIGH-UP\" and HIGH_condition == True:\r\n        # sleep(0.25)\r\n        temporary = str(num3) + str(num4)\r\n        temporary = int(temporary)\r\n        print(temporary)\r\n        temporary += 10\r\n        print(temporary)\r\n        if temporary < 0:\r\n            num3 = 9\r\n            num4 = 9\r\n        elif temporary > 99:\r\n            num3 = 0\r\n            num4 = 0\r\n        else:\r\n            if temporary >= 10:\r\n                digits = [i for i in str(temporary)]\r\n                num3 = digits[0]\r\n                num4 = digits[1]\r\n            else:\r\n                num3 = 0\r\n                num4 = temporary\r\n        B_Point = str(num3) + str(num4)\r\n        HIGH_condition = False\r\n    elif parameter == \"B-DOWN\" and HIGH_condition == False:\r\n        # sleep(0.25)\r\n        num3 = int(num3)\r\n        num4 = int(num4)\r\n        num4 -= 1\r\n        if num4 < 0 and num3 > 0:\r\n            num4 = 9\r\n            num3 -= 1\r\n        elif num4 < 0 and num3 == 0:\r\n            num4 = 9\r\n            num3 = 9\r\n        B_Point = str(num3) + str(num4)\r\n    elif parameter == \"B-HIGH-DOWN\" and HIGH_condition == True:\r\n        # sleep(0.25)\r\n        temporary = str(num3) + str(num4)\r\n        temporary = int(temporary)\r\n        print(temporary)\r\n        temporary -= 10\r\n        print(temporary)\r\n        if temporary < 0:\r\n            num3 = 9\r\n            num4 = 9\r\n        elif temporary > 99:\r\n            num3 = 0\r\n            num4 = 0\r\n        else:\r\n            if temporary >= 10:\r\n                digits = [i for i in str(temporary)]\r\n                num3 = digits[0]\r\n                num4 = digits[1]\r\n            else:\r\n                num3 = 0\r\n                num4 = temporary\r\n        B_Point = str(num3) + str(num4)\r\n        HIGH_condition = False\r\n    elif parameter == \"ALL-Reset\" and HIGH_condition == False:\r\n        # sleep(0.25)\r\n        num1 = 0\r\n        num2 = 0\r\n        num3 = 0\r\n        num4 = 0\r\n        A_Point = str(num1) + str(num2)\r\n        B_Point = str(num3) + str(num4)\r\n    # _thread.start_new_thread(buzzer_in_background, ())\r\n    # sleep(0.1)\r\n    # buz_loop = False\r\n    # buzzer.tone(500, 1)\r\n    \r\n\r\n\r\n\r\ndef return_point(team,Point):\r\n    global A_Point, B_Point\r\n    ready_send = team + Point\r\n    print(type(ready_send))\r\n    now.send(ready_send, \"8C:CE:4E:BB:4A:FC\")\r\n    sleep(0.1)\r\n\r\n\r\ndef main_process():\r\n    global main_process, num1, num2, num3, num4, condition, A_Point, B_Point, buz_loop, HIGH_condition\r\n    sleep(0.5)\r\n    while main_process:\r\n        display.show(\"R\")\r\n        iLED4.writeDigitNum(0, num1, False)\r\n        iLED4.writeDigitNum(1, num2, False)\r\n        iLED4.writeDigitNum(2, num3, False)\r\n        iLED4.writeDigitNum(3, num4, False)\r\n        if now.isReadyToRead():\r\n            now.readAsText()\r\n            condition = now.readAsText()\r\n            print(f\"Condition = {condition}\")\r\n        if condition == \"A-UP\":\r\n            HIGH_condition = False\r\n            process_num(condition)\r\n            return_point(\"A\", A_Point)\r\n            condition = \"\"\r\n        elif condition == \"A-HIGH-UP\":\r\n            HIGH_condition = True\r\n            process_num(condition)\r\n            return_point(\"A\",A_Point)\r\n            condition = \"\"\r\n\r\n        elif condition == \"A-DOWN\":\r\n            HIGH_condition = False\r\n            process_num(condition)\r\n            return_point(\"A\", A_Point)\r\n            condition = \"\"\r\n        elif condition == \"A-HIGH-DOWN\":\r\n            HIGH_condition = True\r\n            process_num(condition)\r\n            return_point(\"A\", A_Point)\r\n            condition = \"\"\r\n\r\n        elif condition == \"B-UP\":\r\n            HIGH_condition = False\r\n            process_num(condition)\r\n            return_point(\"B\", B_Point)\r\n            condition = \"\"\r\n        elif condition == \"B-HIGH-UP\":\r\n            HIGH_condition = True\r\n            process_num(condition)\r\n            return_point(\"B\", B_Point)\r\n            condition = \"\"\r\n\r\n        elif condition == \"B-DOWN\":\r\n            HIGH_condition = False\r\n            process_num(condition)\r\n            return_point(\"B\", B_Point)\r\n            condition = \"\"\r\n        elif condition == \"B-HIGH-DOWN\":\r\n            HIGH_condition = True\r\n            process_num(condition)\r\n            return_point(\"B\", B_Point)\r\n            condition = \"\"\r\n\r\n        elif condition == \"ALL-Reset\":\r\n            HIGH_condition = False\r\n            process_num(condition)\r\n            return_point(\"R\", B_Point+A_Point)\r\n            condition = \"\"\r\n        \r\n        \r\n\r\n\r\n\r\nmain_process()"}